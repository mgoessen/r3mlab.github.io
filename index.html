<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <!--<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">-->
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      rem/lab &middot; blog
    
  </title>

  <!--
-->

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />



  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
<!--  
-->

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->


  <!-- Code hightlighting stylesheet -->
  <link href="/assets/css/molokai.css" rel="stylesheet" />

</head>


  <body class="index home">

    <div id="sidebar">
  <header>
    <h1 class="site-title" >
      <a href="/">
        
        <!--rem/lab--><div class="glitch" data-text1="rem" data-text2="/lab">rem<br>/lab</div>
      </a>
    </h1>

    <p class="lead"></p>
  </header>
  <nav id="sidebar-nav-links">
  
    <a class="home-link  active"
        href="/">home</a>
  
  

  

  


  
    
  

  
    
      <a class="page-link "
          href="/about.html">about</a>
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  


  


  
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/deployment.html">deployment</a>
    
  

  
    
  

  

  
    
      <a class="category-link "
          href="/category/osint.html">osint</a>
    
  

  
    
      <a class="category-link "
          href="/category/python.html">python</a>
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/security.html">security</a>
    
  

  
    
  

  

  
    
  


  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  

  <nav id="sidebar-icon-links">
  
    <a id="github-link"
       class="icon" title="Github Project" aria-label="Github Project"
       href="https://github.com/r3mlab/">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 28" height="24" width="28"><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-0.609 0.109-0.828-0.266-0.828-0.578 0-0.391 0.016-1.687 0.016-3.297 0-1.125-0.375-1.844-0.812-2.219 2.672-0.297 5.484-1.313 5.484-5.922 0-1.313-0.469-2.375-1.234-3.219 0.125-0.313 0.531-1.531-0.125-3.187-1-0.313-3.297 1.234-3.297 1.234-0.953-0.266-1.984-0.406-3-0.406s-2.047 0.141-3 0.406c0 0-2.297-1.547-3.297-1.234-0.656 1.656-0.25 2.875-0.125 3.187-0.766 0.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-0.344 0.313-0.656 0.844-0.766 1.609-0.688 0.313-2.438 0.844-3.484-1-0.656-1.141-1.844-1.234-1.844-1.234-1.172-0.016-0.078 0.734-0.078 0.734 0.781 0.359 1.328 1.75 1.328 1.75 0.703 2.141 4.047 1.422 4.047 1.422 0 1 0.016 1.937 0.016 2.234 0 0.313-0.219 0.688-0.828 0.578-4.766-1.594-8.203-6.094-8.203-11.391 0-6.625 5.375-12 12-12zM4.547 19.234c0.031-0.063-0.016-0.141-0.109-0.187-0.094-0.031-0.172-0.016-0.203 0.031-0.031 0.063 0.016 0.141 0.109 0.187 0.078 0.047 0.172 0.031 0.203-0.031zM5.031 19.766c0.063-0.047 0.047-0.156-0.031-0.25-0.078-0.078-0.187-0.109-0.25-0.047-0.063 0.047-0.047 0.156 0.031 0.25 0.078 0.078 0.187 0.109 0.25 0.047zM5.5 20.469c0.078-0.063 0.078-0.187 0-0.297-0.063-0.109-0.187-0.156-0.266-0.094-0.078 0.047-0.078 0.172 0 0.281s0.203 0.156 0.266 0.109zM6.156 21.125c0.063-0.063 0.031-0.203-0.063-0.297-0.109-0.109-0.25-0.125-0.313-0.047-0.078 0.063-0.047 0.203 0.063 0.297 0.109 0.109 0.25 0.125 0.313 0.047zM7.047 21.516c0.031-0.094-0.063-0.203-0.203-0.25-0.125-0.031-0.266 0.016-0.297 0.109s0.063 0.203 0.203 0.234c0.125 0.047 0.266 0 0.297-0.094zM8.031 21.594c0-0.109-0.125-0.187-0.266-0.172-0.141 0-0.25 0.078-0.25 0.172 0 0.109 0.109 0.187 0.266 0.172 0.141 0 0.25-0.078 0.25-0.172zM8.937 21.438c-0.016-0.094-0.141-0.156-0.281-0.141-0.141 0.031-0.234 0.125-0.219 0.234 0.016 0.094 0.141 0.156 0.281 0.125s0.234-0.125 0.219-0.219z"></path>
</svg>

    </a>
<!--    <a id="github-download-link"
       class="icon" title="Download" aria-label="Download"
       href="https://github.com/r3mlab//archive/v.zip">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg> -->
    </a>
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>

  <!--
<p>
  &copy; 2019.
  <a href="/LICENSE.md">MIT License.</a>
</p>-->

</div>


    <main class="container">
      <div class="content">
  


  

  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/osint/2019/01/03/datasploit-tutorial.html">
        DataSploit tutorial
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">03 Jan 2019</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/osint.html">
          osint
        </a>
      
    
  </span>
</div>


    
      <p><img src="./assets/datasploit.png" alt="DataSploit Logo" /></p>

<p><a href="https://github.com/DataSploit/datasploit">DataSploit</a> is a collection of python scripts that automate open source intelligence searches about domain names, email addresses, IP addresses and usernames.</p>

<p>To use DataSploit, you’ll need:</p>
<ul>
  <li>Python 2.7</li>
  <li>a basic understanding of the command line.</li>
</ul>

<p>In addition, knowing your way around python versions, dependencies and virtual environments will definitely help should the script throw errors.</p>

<h2 id="why-is-datasploit-useful">Why is DataSploit useful?</h2>

<p>DataSploit searches several services for many pieces of information. This speeds up the research process, as you don’t have to perform searches on each service separately. DataSploit also allows to search several targets in one go.</p>


    

    
      
      
      

      
        <a href="/osint/2019/01/03/datasploit-tutorial.html">More &hellip;</a>
      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/osint/2019/01/02/theHarvester-tutorial.html">
        theHarvester: find email addresses from a domain
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">02 Jan 2019</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/osint.html">
          osint
        </a>
      
    
  </span>
</div>


    
      <p><a href="https://github.com/laramies/theHarvester">theHarvester</a> is a Python script that uses several search engines to find emails matching a certain domain name.</p>

<p>This has several use cases:</p>
<ul>
  <li>find emails of a company’s employees, if you know the company’s website.</li>
  <li>find the email of someone if you know the website of its company or its personal website.</li>
  <li>find the format of email addresses of a company. A lot of companies usually use a common format for its employees’ emails, such as  surname.name@examplecompany.com. If this is the case, you can easily infer the email address of employees from their names.</li>
</ul>


    

    
      
      
      

      
        <a href="/osint/2019/01/02/theHarvester-tutorial.html">More &hellip;</a>
      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/python/2018/12/30/virtualenv-pip-pipenv-cheatsheet.html">
        pip, virtualenv and pipenv cheatsheet
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">30 Dec 2018</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/python.html">
          python
        </a>
      
    
  </span>
</div>


    
      <p>A collection of useful commands to handle python virtual environments and packages with pip, virtualenv, and pipenv.</p>


    

    
      
      
      

      
        <a href="/python/2018/12/30/virtualenv-pip-pipenv-cheatsheet.html">More &hellip;</a>
      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/python/osint/2018/08/09/PDF-text-extraction.html">
        PDF text extraction
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">09 Aug 2018</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/python.html">
          python
        </a>
      
    
      &bull;

      
      
      

      
        <a href="/category/osint.html">
          osint
        </a>
      
    
  </span>
</div>


    
      <p>Several tools to extract text from a PDF.</p>

<h2 id="pypdf2">PyPDF2</h2>

<p>Install the module with pip.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip3 install PyPDF2</code></pre></figure>

<p>In Python:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">PyPDF2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pdfFileObj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'file.pdf'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pdfReaderpageObj</span><span class="o">.</span><span class="n">extractText</span><span class="p">()</span> <span class="o">=</span> <span class="n">PyPDF2</span><span class="o">.</span><span class="n">PdfFileReader</span><span class="p">(</span><span class="n">pdfFileObj</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pageObj</span> <span class="o">=</span> <span class="n">pdfReader</span><span class="o">.</span><span class="n">getPage</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">textPage</span> <span class="o">=</span> <span class="n">pageObj</span><span class="o">.</span><span class="n">extractText</span><span class="p">()</span></code></pre></figure>

<p>See <a href="https://github.com/mstamy2/PyPDF2">PyPDF2 on Github</a>, <a href="https://pythonhosted.org/PyPDF2/">docs</a></p>

<h2 id="tika">Tika</h2>

<p>Install with pip</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip3 install tika</code></pre></figure>

<p>Make sure java is installed:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt install openjdk-8-jdk</code></pre></figure>

<p>In Python:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">tika</span> <span class="kn">import</span> <span class="n">parser</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parsedPDF</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">"file.pdf"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pdfText</span> <span class="o">=</span> <span class="n">parsedPDF</span><span class="p">[</span><span class="s">"content"</span><span class="p">]</span></code></pre></figure>

<p>See <a href="https://github.com/chrismattmann/tika-python">tika-python on Github</a></p>

<h2 id="pdfminer">PDFMiner</h2>

<p>Install with pip (Python 2):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip install PDFMiner</code></pre></figure>

<p>In bash:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pdf2txt.py <span class="nt">-o</span> output.txt file.pdf</code></pre></figure>

<p>See <a href="https://github.com/euske/pdfminer">PDFMiner on Github</a></p>

<h2 id="xpdf--pdftotext">xpdf / pdftotext</h2>

<p>Install with apt:</p>

<p>In bash:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pdftotext file.pdf output.txt</code></pre></figure>

<p>or</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pdftotext <span class="nt">-layout</span> file.pdf output.txt</code></pre></figure>

<p>See <a href="https://www.xpdfreader.com">xpdf official website</a>, <a href="https://www.xpdfreader.com/pdftotext-man.html">pdftotext manual</a></p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/python/osint/2018/08/03/Getting-data-on-French-MPs.html">
        Getting up-to-date data on French MPs
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">03 Aug 2018</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/python.html">
          python
        </a>
      
    
      &bull;

      
      
      

      
        <a href="/category/osint.html">
          osint
        </a>
      
    
  </span>
</div>


    
      <p>Say we need to quickly get up-to-date data on French MPs for a project.</p>

<p>Everything we need is on the National Assembly or on the Senate websites, but they provide no structured way to get the data.
Fortunately, Regards Citoyens provides up-to-date data on both French Parliament houses in multiple formats, through several websites:</p>
<ul>
  <li><a href="https://nosdeputes.fr">nosdeputes.fr</a>: info on lower-house MPs</li>
  <li><a href="https://nossenateurs.fr">nosenateurs.fr</a>: info on upper-house MPs</li>
  <li><a href="https://www.parlapi.fr/">ParlAPI</a>: API access to data on both houses</li>
</ul>

<h2 id="info-on-current-lower-house-mps">Info on current lower-house MPs</h2>

<p>For example, if we need information on all lower-house MPs currently in office, we get the corresponding JSON data from nosdeputes.fr :</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span><span class="s">'https://www.nosdeputes.fr/deputes/enmandat/json'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span></code></pre></figure>

<p>We can then iterate over the 577 lower-house MPs to get the info we want.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">576</span><span class="p">):</span>
	  <span class="n">d</span> <span class="o">=</span> <span class="n">jsonData</span><span class="p">[</span><span class="s">'deputes'</span><span class="p">][</span><span class="n">num</span><span class="p">][</span><span class="s">'depute'</span><span class="p">]</span> <span class="c"># easier to read</span>
    <span class="c"># rest of the code</span></code></pre></figure>

<p>Inside this <code class="highlighter-rouge">for</code> loop, we can now access data on MPs to store it in the format we want (CSV or Excel table, python dictionary, etc.). For example, we access the surname of the MP with <code class="highlighter-rouge">d['nom']</code>. Have a look at the JSON data in your web browser to find all the available attributes.</p>

<p>Some attributes have multiple values, such as email addresses: many MPs have more than one registered. We can store them in a list, like so:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python">	<span class="n">mails</span> <span class="o">=</span> <span class="p">[]</span>
	<span class="k">for</span> <span class="n">dic</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s">'emails'</span><span class="p">]:</span>
		<span class="n">newEmail</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="s">'email'</span><span class="p">]</span>
		<span class="n">mails</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newEmail</span><span class="p">)</span></code></pre></figure>

<h2 id="example-fetching-all-email-addresses">Example: fetching all email addresses</h2>

<p>Putting all this together, we can write a little script that outputs all the email addresses of current lower-house MPs:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span><span class="s">'https://www.nosdeputes.fr/deputes/enmandat/json'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
<span class="n">jsonData</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">allEmails</span> <span class="o">=</span> <span class="p">[]</span> <span class="c"># We'll store everything in here</span>

<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">576</span><span class="p">):</span>
	  <span class="n">d</span> <span class="o">=</span> <span class="n">jsonData</span><span class="p">[</span><span class="s">'deputes'</span><span class="p">][</span><span class="n">num</span><span class="p">][</span><span class="s">'depute'</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">dic</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s">'emails'</span><span class="p">]:</span>
  	    <span class="n">newEmail</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="s">'email'</span><span class="p">]</span>
  		  <span class="n">allEmails</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newEmail</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">allEmails</span><span class="p">))</span></code></pre></figure>


    

    
      
      
      

      
    
  </article>
  

  
<div class="pagination">
  <a class="pagination-item older"
     href="/page2">
    Older
  </a>
</div>


</div>

    </main>

    <!-- Optional footer content -->

  </body>
</html>
